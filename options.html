<!DOCTYPE html>
<html>
  <head>
    <title>Video Speed Controller: Options</title>
    <script src="json_editor/prism.js"></script>
    <link href="json_editor/prism.css" rel="stylesheet" />
    <script src="json_editor/code-input.js"></script>
    <script src="json_editor/indent.js"></script>

    <link href="json_editor/code-input.css" rel="stylesheet" />
    <link rel="stylesheet" href="options.css" />
    <script src="options.js"></script>
  </head>
  <body>
    <header>
      <h1>Video Speed Controller</h1>
    </header>

    <section id="customs">
      <h3>Shortcuts</h3>
      <div class="row customs" id="display">
        <select class="customDo">
          <option value="display">Show/hide controller</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input class="customValue" type="text" placeholder="value (0.10)" />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>
      <div class="row customs" id="slower">
        <select class="customDo">
          <option value="slower">Decrease speed</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input class="customValue" type="text" placeholder="value (0.10)" />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>
      <div class="row customs" id="faster">
        <select class="customDo">
          <option value="faster">Increase speed</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input class="customValue" type="text" placeholder="value (0.10)" />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>
      <div class="row customs" id="rewind">
        <select class="customDo">
          <option value="rewind">Rewind</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input class="customValue" type="text" placeholder="value (10)" />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>
      <div class="row customs" id="advance">
        <select class="customDo">
          <option value="advance">Advance</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input class="customValue" type="text" placeholder="value (10)" />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>
      <div class="row customs" id="reset">
        <select class="customDo">
          <option value="reset">Reset speed</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input
          class="customValue"
          type="text"
          placeholder="value (1.00)"
          disabled
        />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>
      <div class="row customs" id="fast">
        <select class="customDo">
          <option value="fast">Preferred speed</option>
        </select>
        <input
          class="customKey"
          type="text"
          value=""
          placeholder="press a key"
        />
        <input class="customValue" type="text" placeholder="value (1.80)" />
        <select class="customForce">
          <option value="false">Do not disable website key bindings</option>
          <option value="true">Disable website key bindings</option>
        </select>
      </div>

      <button id="add">Add New</button>
    </section>

    <section>
      <h3>Other</h3>
      <div class="row">
        <label for="enabled">Enable</label>
        <input id="enabled" type="checkbox" />
      </div>
      <div class="row">
        <label for="startHidden">Hide controller by default</label>
        <input id="startHidden" type="checkbox" />
      </div>
      <div class="row">
        <label for="rememberSpeed">Remember playback speed</label>
        <input id="rememberSpeed" type="checkbox" />
      </div>
      <div class="row"></div>
        <label for="ignoreSpeedEventsForNoVideoSize">Speed Events Action<br />
        <em>We can update our current speed based on the player changing speed (ie you hit 1.5x in the player itself). The old 'force last saved' is the same as setting this to ignore all.</em></label>
        <select id="videoSpeedEventAction">
          <option value="AlwaysUpdate">Always Update Us</option>
          <option value="IgnoreWhenVideoZeroSized">Ignore when source video element size is 0 (good for yt which has a shadow video player that generates bad events)</option>
          <option value="IgnoreAll">Ignore All (video speed is only controlled by us, through our UI or keybinds)</option>
        </select>
      </div>
      <div class="row">
        <label for="ifSpeedIsNormalDontSaveUnlessWeSetIt">Don't update the remembered speed from Speed Events when it is normal (1.0 speed)<br />
        <em>Some sites force playback speed to 1.0 if we listened to that speed event our remembered speed would then be 1 as well.  If you manually set the speed through us to 1.0 though we will remember that.</em></label>
        <input id="ifSpeedIsNormalDontSaveUnlessWeSetIt" type="checkbox" />
      </div>

      <div class="row">
        <label for="audioBoolean">Work on audio</label>
        <input id="audioBoolean" type="checkbox" />
      </div>
      <div class="row">
        <label for="ytAutoEnableClosedCaptions">For Youtube.com auto enable closed captions</label>
        <input id="ytAutoEnableClosedCaptions" type="checkbox" />
      </div>
      <div class="row">
        <label for="ytAutoDisableAutoPlay">For Youtube.com auto disable autoplay</label>
        <input id="ytAutoDisableAutoPlay" type="checkbox" />
      </div>
      <div class="row">
        <label for="logLevel">Console Log Level</label>
        <select id="logLevel">
          <option value="2">Error</option>
          <option value="3">Warning</option>
          <option value="4">Info</option>
          <option value="5">Debug</option>
          <option value="6">Verbose</option>
        </select>
      </div>
      <div class="row">
        <label for="controllerOpacity">Controller opacity</label>
        <input id="controllerOpacity" type="text" value="" />
      </div>
      <div class="row">
        <label for="blacklist"
          >Sites on which extension is disabled<br />
          (one per line)<br />
          <br />
          <em>
            <a href="https://www.regexpal.com/">Regex</a> is supported.<br />
            Be sure to use the literal notation.<br />
            ie: /(.+)youtube\.com(\/*)$/gi
          </em>
        </label>
        <textarea id="blacklist" rows="10" cols="50"></textarea>
      </div>
    </section>

    <button id="save">Save</button>
    <button id="restore">Restore Defaults</button>
    <button id="experimental">Show Experimental Features</button>
    <div id="status"></div>
    <br /><br /><br />
    <div class="customForce">

   <!-- <fieldset>
      <legend>Javascript to execute on youtube.com domains</legend>
    <code-input lang="javascript" id="ytJS" style="resize: vertical; overflow: auto; height: 200px; width: 700px;" class="language-js-extras"></code-input>
  </fieldset>
    <br /> -->
   <fieldset>
      <legend>Raw JSON Settings Edit</legend>
    <code-input lang="JSON" id="rawJson" style="resize: vertical; overflow: auto; height: 400px; width: 700px;"></code-input>
        <br />
        <button id="saveRaw">Save From RawJson</button>
   </fieldset>
</div>

    <div id="faq">
      <hr />

      <h4>Extension controls not appearing?</h4>
      <p>
        This extension is only compatible with HTML5 audio and video. If you
        don't see the controls showing up, chances are you are viewing a Flash
        content. If you want to confirm, try right-clicking on the content and
        inspect the menu: if it mentions flash, then that's the issue. That
        said, <b>most sites will fallback to HTML5</b> if they detect that Flash
        is not available. You can try manually disabling Flash plugin in the
        browser:
      </p>

      <ul>
        <li>
          In a new tab, navigate to <code>chrome://settings/content/flash</code>
        </li>
        <li>Disable "Allow sites to run Flash"</li>
        <li>Restart your browser and try playing your audio or video again</li>
      </ul>

      <h4>The speed controls are not showing up for local videos?</h4>
      <p>
        To enable playback of local media (e.g. File &gt; Open File), you need
        to grant additional permissions to the extension.
      </p>

      <ul>
        <li>In a new tab, navigate to <code>chrome://extensions</code></li>
        <li>
          Find "Video Speed Controller" extension in the list and enable "Allow
          access to file URLs"
        </li>
        <li>
          Open a new tab and try opening a local file, the controls should show
          up
        </li>
      </ul>
    </div>
  </body>
</html>
